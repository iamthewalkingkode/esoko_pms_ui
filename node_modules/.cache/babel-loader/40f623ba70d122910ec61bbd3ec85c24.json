{"ast":null,"code":"var _jsxFileName = \"/Users/amarachi/www/sirjava/src/pages/event.jsx\";\nimport React, { Component } from 'react';\nimport * as eng from '../../providers/engine';\nimport $ from 'jquery';\nexport default class Event extends Component {\n  constructor(props) {\n    super(props);\n    this.skills = [1, 2, 3, 4, 5, 6, 7, 8];\n\n    this.formChange = e => {// this.setState({ [e.target.name]: e.target.value });\n    };\n\n    this.categoryChange = category => {\n      this.setState({\n        category: category\n      });\n    };\n\n    this.getSchools = () => {\n      $('select').attr('disabled', true);\n      this.setState({\n        loading: true\n      });\n      const oldSchools = eng.getStorageJson('academy.schools');\n\n      if (oldSchools.length > 0) {\n        $('select').attr('disabled', false);\n        this.setState({\n          loading: false\n        });\n        this.setState({\n          schools: oldSchools\n        });\n      }\n\n      eng.getData('schools').then(res => {\n        $('select').attr('disabled', false);\n        this.setState({\n          loading: false\n        });\n\n        if (res.length > 10) {\n          eng.setStorageJson('academy.schools', res);\n          this.setState({\n            schools: res\n          });\n        } else {\n          this.setState({\n            schools: [{\n              id: '',\n              name: 'No schools found'\n            }]\n          });\n        }\n      });\n    };\n\n    this.getDepartments = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n      $('select').attr('disabled', true);\n      this.setState({\n        loading: true\n      });\n      const school = this.state.school;\n      const oldDepartments = eng.getStorageJson('academy.departments.' + school);\n\n      if (oldDepartments.length > 0) {\n        $('select').attr('disabled', false);\n        this.setState({\n          loading: false\n        });\n        this.setState({\n          departments: oldDepartments\n        });\n      }\n\n      eng.getData('schools&case=departments&school_id=' + school).then(res => {\n        $('select').attr('disabled', false);\n        this.setState({\n          loading: false\n        });\n\n        if (res.length > 10) {\n          eng.setStorageJson('academy.departments.' + school, res);\n          this.setState({\n            departments: res\n          });\n        } else {\n          this.setState({\n            departments: [{\n              id: '',\n              name: 'No departments found'\n            }]\n          });\n        }\n      });\n    };\n\n    this.getLevels = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n      $('select').attr('disabled', true);\n      this.setState({\n        loading: true\n      });\n      const _this$state = this.state,\n            school = _this$state.school,\n            department = _this$state.department;\n      const oldLevels = eng.getStorageJson('academy.levels.' + school + '.' + department);\n\n      if (oldLevels.length > 0) {\n        $('select').attr('disabled', false);\n        this.setState({\n          loading: false\n        });\n        this.setState({\n          levels: oldLevels\n        });\n      }\n\n      eng.getData('schools&case=levels&school_id=' + school + '&departmnent=' + department).then(res => {\n        $('select').attr('disabled', false);\n        this.setState({\n          loading: false\n        });\n\n        if (res.length > 10) {\n          eng.setStorageJson('academy.levels.' + school + '.' + department, res);\n          this.setState({\n            levels: res\n          });\n        } else {\n          this.setState({\n            levels: [{\n              id: '',\n              name: 'No levels found'\n            }]\n          });\n        }\n      });\n    };\n\n    this.enterAcademy = () => {\n      const category = this.state.category;\n      let data = $('#' + category).find('input, select').serialize();\n      data = eng.jsnData(data);\n      eng.setStorageJson('academy.selected', data);\n      this.props.history.push(\"/intro\");\n    };\n\n    this.state = {\n      schools: [],\n      levels: [],\n      departments: [],\n      category: 'jambites',\n      loading: true\n    };\n  }\n\n  componentDidMount() {\n    this.getSchools();\n  }\n\n  render() {\n    const _this$state2 = this.state,\n          loading = _this$state2.loading,\n          schools = _this$state2.schools,\n          departments = _this$state2.departments,\n          levels = _this$state2.levels;\n    return React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    });\n  }\n\n}","map":{"version":3,"sources":["/Users/amarachi/www/sirjava/src/pages/event.jsx"],"names":["React","Component","eng","$","Event","constructor","props","skills","formChange","e","categoryChange","category","setState","getSchools","attr","loading","oldSchools","getStorageJson","length","schools","getData","then","res","setStorageJson","id","name","getDepartments","target","value","school","state","oldDepartments","departments","getLevels","department","oldLevels","levels","enterAcademy","data","find","serialize","jsnData","history","push","componentDidMount","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport * as eng from '../../providers/engine';\nimport $ from 'jquery';\n\nexport default class Event extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            schools: [],\n            levels: [],\n            departments: [],\n\n            category: 'jambites',\n\n            loading: true\n        };\n    }\n\n    skills = [1, 2, 3, 4, 5, 6, 7, 8];\n\n    componentDidMount() {\n        this.getSchools();\n    }\n\n    formChange = (e) => {\n        // this.setState({ [e.target.name]: e.target.value });\n    }\n    categoryChange = (category) => {\n        this.setState({ category: category });\n    }\n\n    getSchools = () => {\n        $('select').attr('disabled', true);\n        this.setState({ loading: true });\n        const oldSchools = eng.getStorageJson('academy.schools');\n        if (oldSchools.length > 0) {\n            $('select').attr('disabled', false);\n            this.setState({ loading: false });\n            this.setState({ schools: oldSchools });\n        }\n        eng.getData('schools').then((res) => {\n            $('select').attr('disabled', false);\n            this.setState({ loading: false });\n            if (res.length > 10) {\n                eng.setStorageJson('academy.schools', res);\n                this.setState({ schools: res });\n            } else {\n                this.setState({ schools: [{ id: '', name: 'No schools found' }] });\n            }\n        });\n    }\n    getDepartments = (e) => {\n        this.setState({ [e.target.name]: e.target.value });\n        $('select').attr('disabled', true);\n        this.setState({ loading: true });\n        const { school } = this.state;\n        const oldDepartments = eng.getStorageJson('academy.departments.' + school);\n        if (oldDepartments.length > 0) {\n            $('select').attr('disabled', false);\n            this.setState({ loading: false });\n            this.setState({ departments: oldDepartments });\n        }\n        eng.getData('schools&case=departments&school_id=' + school).then((res) => {\n            $('select').attr('disabled', false);\n            this.setState({ loading: false });\n            if (res.length > 10) {\n                eng.setStorageJson('academy.departments.' + school, res);\n                this.setState({ departments: res });\n            } else {\n                this.setState({ departments: [{ id: '', name: 'No departments found' }] });\n            }\n        });\n    }\n    getLevels = (e) => {\n        this.setState({ [e.target.name]: e.target.value });\n        $('select').attr('disabled', true);\n        this.setState({ loading: true });\n        const { school, department } = this.state;\n        const oldLevels = eng.getStorageJson('academy.levels.' + school + '.' + department);\n        if (oldLevels.length > 0) {\n            $('select').attr('disabled', false);\n            this.setState({ loading: false });\n            this.setState({ levels: oldLevels });\n        }\n        eng.getData('schools&case=levels&school_id=' + school + '&departmnent=' + department).then((res) => {\n            $('select').attr('disabled', false);\n            this.setState({ loading: false });\n            if (res.length > 10) {\n                eng.setStorageJson('academy.levels.' + school + '.' + department, res);\n                this.setState({ levels: res });\n            } else {\n                this.setState({ levels: [{ id: '', name: 'No levels found' }] });\n            }\n        });\n    }\n\n    enterAcademy = () => {\n        const { category } = this.state;\n        let data = $('#' + category).find('input, select').serialize();\n        data = eng.jsnData(data);\n        eng.setStorageJson('academy.selected', data);\n        this.props.history.push(`/intro`);\n    }\n\n    render() {\n        const { loading, schools, departments, levels } = this.state;\n        return (\n            <React.Fragment>\n                \n\n            </React.Fragment>\n        );\n    }\n\n}"]},"metadata":{},"sourceType":"module"}