{"ast":null,"code":"var _jsxFileName = \"/Users/amarachi/www/campuspunch/src/pages/authenticate/register.jsx\";\nimport React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport * as eng from '../../providers/engine';\nimport $ from 'jquery';\nexport default class Register extends Component {\n  constructor(props) {\n    super(props);\n\n    this.formChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.__register = e => {\n      e.preventDefault();\n      $('form').find('input, select, textarea').attr('disabled', true);\n      $('#submit').html('<i className=\"fa fa-spin fa-spinner\"></i> authenticating ...').attr('disabled', true);\n      eng.postData('authenticate&genesis=authenticate&case=register', this.state).then(res => {\n        $('#submit').html('REGISTER').attr('disabled', false);\n        $('form').find('input, select, textarea').attr('disabled', false);\n\n        if (res.status === 200) {\n          eng.setStorage('userEmail', res.token);\n          this.props.history.push('/register/activate');\n        } else {\n          showToast('warning', res.result);\n        }\n      });\n    };\n\n    this.__activate = e => {\n      e.preventDefault();\n      const pin = this.state.pin;\n      const email = eng.getStorage('userEmail');\n      $('form').find('input, select, textarea').attr('disabled', true);\n      $('#submit').html('<i className=\"fa fa-spin fa-spinner\"></i> activating ...').attr('disabled', true);\n      eng.postData('authenticate&genesis=authenticate&case=activate', {\n        email: email,\n        pin: pin\n      }).then(res => {\n        $('#submit').html('ACTIVATE').attr('disabled', false);\n        $('form').find('input, select, textarea').attr('disabled', false);\n\n        if (res.status === 200) {\n          eng.alertMsgSet('success', 'You can now login');\n          eng.delStorage('userEmail');\n          eng.redirect('/login');\n        } else {\n          showToast('warning', res.result);\n        }\n      });\n    };\n\n    this.state = {\n      pin: '',\n      name: '',\n      email: '',\n      password: '',\n      password2: ''\n    };\n  }\n\n  render() {\n    const route = eng.getStorageJson('route');\n    const type = route.type ? route.type : '';\n    const email = eng.getStorage('userEmail');\n\n    switch (type) {\n      case 'activate':\n        return React.createElement(React.Fragment, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64\n          },\n          __self: this\n        }, React.createElement(\"h4\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65\n          },\n          __self: this\n        }, \"Almost Done!\"), React.createElement(\"h6\", {\n          className: \"font-weight-light\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66\n          },\n          __self: this\n        }, \"An activation pin was sent to \", React.createElement(\"b\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66\n          },\n          __self: this\n        }, email), \". Retreave it and enter it here to continue\"), React.createElement(\"form\", {\n          id: \"instabolt\",\n          method: \"post\",\n          action: \"#\",\n          autoComplete: \"off\",\n          className: \"pt-3\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"form-group\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          type: \"number\",\n          name: \"pin\",\n          className: \"form-control\",\n          placeholder: \"Activation pin\",\n          maxLength: \"6\",\n          onChange: this.formChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"mt-3\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 71\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          id: \"submit\",\n          className: \"btn btn-block btn-primary font-weight-medium auth-form-btn\",\n          onClick: this.__activate,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72\n          },\n          __self: this\n        }, \"ACTIVATE\"))));\n\n      default:\n        if (email) {\n          return React.createElement(Redirect, {\n            to: \"/\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 80\n            },\n            __self: this\n          });\n        } else {\n          return React.createElement(React.Fragment, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 83\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"container\",\n            style: {\n              marginTop: 25 + 'px'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 84\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"row\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 85\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"col-sm-5\",\n            style: {\n              float: 'none',\n              margin: 'auto'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 86\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            id: \"mini-content\",\n            style: {\n              minHeight: 'auto'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 87\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"text-center\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 88\n            },\n            __self: this\n          }, React.createElement(\"h2\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 89\n            },\n            __self: this\n          }, \"Campus\", React.createElement(\"b\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 89\n            },\n            __self: this\n          }, \"Punch\"), \".\"), React.createElement(\"div\", {\n            className: \"text-muted\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 90\n            },\n            __self: this\n          }, \"Create a free account now \", React.createElement(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 90\n            },\n            __self: this\n          }), \" \")), React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 92\n            },\n            __self: this\n          }, \"\\xA0\"), React.createElement(\"form\", {\n            autocomplete: \"off\",\n            method: \"post\",\n            action: \"#\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 93\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"form-group\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 94\n            },\n            __self: this\n          }, React.createElement(\"label\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 95\n            },\n            __self: this\n          }, \"Username\"), React.createElement(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            name: \"name\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 96\n            },\n            __self: this\n          })), React.createElement(\"div\", {\n            className: \"form-group\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 98\n            },\n            __self: this\n          }, React.createElement(\"label\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 99\n            },\n            __self: this\n          }, \"Email\"), React.createElement(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            name: \"name\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 100\n            },\n            __self: this\n          })), React.createElement(\"div\", {\n            className: \"form-group\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 102\n            },\n            __self: this\n          }, React.createElement(\"label\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 103\n            },\n            __self: this\n          }, \"Password\"), React.createElement(\"input\", {\n            type: \"password\",\n            className: \"form-control\",\n            name: \"name\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 104\n            },\n            __self: this\n          })), React.createElement(\"div\", {\n            className: \"form-group\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 106\n            },\n            __self: this\n          }, React.createElement(\"label\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 107\n            },\n            __self: this\n          }, \"Confirm Password\"), React.createElement(\"input\", {\n            type: \"password\",\n            className: \"form-control\",\n            name: \"name\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 108\n            },\n            __self: this\n          })), React.createElement(\"div\", {\n            className: \"form-group\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 110\n            },\n            __self: this\n          }, React.createElement(\"label\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 111\n            },\n            __self: this\n          }, \"Phone number\"), React.createElement(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            name: \"name\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 112\n            },\n            __self: this\n          })), React.createElement(\"div\", {\n            className: \"form-group\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 114\n            },\n            __self: this\n          }, React.createElement(\"label\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 115\n            },\n            __self: this\n          }, \"School/Campus\"), React.createElement(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            name: \"name\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 116\n            },\n            __self: this\n          })), React.createElement(\"div\", {\n            className: \"form-group\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 118\n            },\n            __self: this\n          }, \"By signing up I agree to the Terms & Policies\"), React.createElement(\"div\", {\n            className: \"form-group\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 121\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"row\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 122\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"col-sm-3\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 123\n            },\n            __self: this\n          }), React.createElement(\"div\", {\n            className: \"col-sm-6\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 124\n            },\n            __self: this\n          }, React.createElement(\"button\", {\n            type: \"button\",\n            className: \"btn btn-primary btn-block\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 124\n            },\n            __self: this\n          }, \"Create new acount\")), React.createElement(\"div\", {\n            className: \"col-sm-3\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 125\n            },\n            __self: this\n          }))))), React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 130\n            },\n            __self: this\n          }, \"\\xA0\"), React.createElement(\"div\", {\n            className: \"text-center\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 131\n            },\n            __self: this\n          }, \"Already have an account? \", React.createElement(\"a\", {\n            href: \"/signin\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 131\n            },\n            __self: this\n          }, React.createElement(\"b\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 131\n            },\n            __self: this\n          }, \"Sign in\")), \" now! \"), React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 132\n            },\n            __self: this\n          }, \"\\xA0\"), React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 132\n            },\n            __self: this\n          }, \"\\xA0\")))));\n        }\n\n    }\n  }\n\n}","map":{"version":3,"sources":["/Users/amarachi/www/campuspunch/src/pages/authenticate/register.jsx"],"names":["React","Component","Redirect","eng","$","Register","constructor","props","formChange","e","setState","target","name","value","__register","preventDefault","find","attr","html","postData","state","then","res","status","setStorage","token","history","push","showToast","result","__activate","pin","email","getStorage","alertMsgSet","delStorage","redirect","password","password2","render","route","getStorageJson","type","marginTop","float","margin","minHeight"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport * as eng from '../../providers/engine';\nimport $ from 'jquery';\n\ndeclare var showToast: any;\n\nexport default class Register extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            pin: '', name: '', email: '', password: '', password2: ''\n        };\n    }\n\n    formChange = (e) => {\n        this.setState({ [e.target.name]: e.target.value });\n    }\n\n    __register = (e) => {\n        e.preventDefault();\n        $('form').find('input, select, textarea').attr('disabled', true);\n        $('#submit').html('<i className=\"fa fa-spin fa-spinner\"></i> authenticating ...').attr('disabled', true);\n        eng.postData('authenticate&genesis=authenticate&case=register', this.state).then((res) => {\n            $('#submit').html('REGISTER').attr('disabled', false);\n            $('form').find('input, select, textarea').attr('disabled', false);\n            if (res.status === 200) {\n                eng.setStorage('userEmail', res.token);\n                this.props.history.push('/register/activate');\n            } else {\n                showToast('warning', res.result);\n            }\n        });\n    }\n    __activate = (e) => {\n        e.preventDefault();\n        const { pin } = this.state;\n        const email = eng.getStorage('userEmail');\n        $('form').find('input, select, textarea').attr('disabled', true);\n        $('#submit').html('<i className=\"fa fa-spin fa-spinner\"></i> activating ...').attr('disabled', true);\n        eng.postData('authenticate&genesis=authenticate&case=activate', { email: email, pin: pin }).then((res) => {\n            $('#submit').html('ACTIVATE').attr('disabled', false);\n            $('form').find('input, select, textarea').attr('disabled', false);\n            if (res.status === 200) {\n                eng.alertMsgSet('success', 'You can now login');\n                eng.delStorage('userEmail');\n                eng.redirect('/login');\n            } else {\n                showToast('warning', res.result);\n            }\n        });\n    }\n\n    render() {\n        const route = eng.getStorageJson('route');\n        const type = route.type ? route.type : '';\n        const email = eng.getStorage('userEmail');\n\n        switch (type) {\n\n            case 'activate':\n                return (\n                    <React.Fragment>\n                        <h4>Almost Done!</h4>\n                        <h6 className=\"font-weight-light\">An activation pin was sent to <b>{email}</b>. Retreave it and enter it here to continue</h6>\n                        <form id=\"instabolt\" method=\"post\" action=\"#\" autoComplete=\"off\" className=\"pt-3\">\n                            <div className=\"form-group\">\n                                <input type=\"number\" name=\"pin\" className=\"form-control\" placeholder=\"Activation pin\" maxLength=\"6\" onChange={this.formChange} />\n                            </div>\n                            <div className=\"mt-3\">\n                                <button id=\"submit\" className=\"btn btn-block btn-primary font-weight-medium auth-form-btn\" onClick={this.__activate}>ACTIVATE</button>\n                            </div>\n                        </form>\n                    </React.Fragment>\n                );\n\n            default:\n                if (email) {\n                    return <Redirect to='/' />\n                } else {\n                    return (\n                        <React.Fragment>\n                            <div className=\"container\" style={{ marginTop: 25 + 'px' }}>\n                                <div className=\"row\">\n                                    <div className=\"col-sm-5\" style={{ float: 'none', margin: 'auto' }}>\n                                        <div id=\"mini-content\" style={{ minHeight: 'auto' }}>\n                                            <div className=\"text-center\">\n                                                <h2>Campus<b>Punch</b>.</h2>\n                                                <div className=\"text-muted\">Create a free account now <br /> {/* - OR - <br /> <button className=\"btn btn-primary btn-block\"><i className=\"fa fa-facebook-square\"></i> Signin with Facebook</button> */}</div>\n                                            </div>\n                                            <p>&nbsp;</p>\n                                            <form autocomplete=\"off\" method=\"post\" action=\"#\">\n                                                <div className=\"form-group\">\n                                                    <label>Username</label>\n                                                    <input type=\"text\" className=\"form-control\" name=\"name\" />\n                                                </div>\n                                                <div className=\"form-group\">\n                                                    <label>Email</label>\n                                                    <input type=\"text\" className=\"form-control\" name=\"name\" />\n                                                </div>\n                                                <div className=\"form-group\">\n                                                    <label>Password</label>\n                                                    <input type=\"password\" className=\"form-control\" name=\"name\" />\n                                                </div>\n                                                <div className=\"form-group\">\n                                                    <label>Confirm Password</label>\n                                                    <input type=\"password\" className=\"form-control\" name=\"name\" />\n                                                </div>\n                                                <div className=\"form-group\">\n                                                    <label>Phone number</label>\n                                                    <input type=\"text\" className=\"form-control\" name=\"name\" />\n                                                </div>\n                                                <div className=\"form-group\">\n                                                    <label>School/Campus</label>\n                                                    <input type=\"text\" className=\"form-control\" name=\"name\" />\n                                                </div>\n                                                <div className=\"form-group\">\n                                                    By signing up I agree to the Terms &amp; Policies\n                                                </div>\n                                                <div className=\"form-group\">\n                                                    <div className=\"row\">\n                                                        <div className=\"col-sm-3\"></div>\n                                                        <div className=\"col-sm-6\"><button type=\"button\" className=\"btn btn-primary btn-block\">Create new acount</button></div>\n                                                        <div className=\"col-sm-3\"></div>\n                                                    </div>\n                                                </div>\n                                            </form>\n                                        </div>\n                                        <p>&nbsp;</p>\n                                        <div className=\"text-center\">Already have an account? <a href=\"/signin\"><b>Sign in</b></a> now! </div>\n                                        <p>&nbsp;</p><p>&nbsp;</p>\n                                    </div>\n                                </div>\n                            </div>\n\n                        </React.Fragment>\n                    );\n                }\n        }\n    }\n\n}"]},"metadata":{},"sourceType":"module"}